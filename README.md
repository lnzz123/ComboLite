<p align="right"> 
   <b>ç®€ä½“ä¸­æ–‡</b> | <a href="./README_en.md">English</a> 
</p> 

[//]: # (<p align="center">)

[//]: # (  <img src="image/logo.jpg" width="512" alt="ComboLite Logo">)

[//]: # (</p>)

<h1 align="center">ComboLite</h1>

<p align="center">
  <strong>ä¸“ä¸º Jetpack Compose è€Œç”Ÿï¼Œ100% å®˜æ–¹ APIï¼Œ0 Hook & 0 åå°„ çš„ä¸‹ä¸€ä»£ Android æ’ä»¶åŒ–æ¡†æ¶ã€‚</strong>
  <br />
  <em>ç°ä»£ã€ç¨³å®šã€çµæ´»ï¼ŒåŠ©æ‚¨è½»æ¾æ„å»ºâ€œä¸‡ç‰©çš†å¯æ’æ‹”â€çš„åŠ¨æ€åŒ–åº”ç”¨ã€‚</em>
</p>

<p align="center">
  <img alt="Platform" src="https://img.shields.io/badge/Platform-Android-3DDC84.svg"/>
  <img alt="API" src="https://img.shields.io/badge/API-24%2B%20(Android%207.0)-blue.svg"/>
  <a href="https://kotlinlang.org/"><img alt="Kotlin" src="https://img.shields.io/badge/Kotlin-2.2.0-7F52FF.svg"/></a>
  <a href="https://developer.android.com/jetpack/compose"><img alt="Compose" src="https://img.shields.io/badge/Compose-1.9.0-FF6F00.svg"/></a>
  <a href="https://developer.android.com/studio/releases/gradle-plugin"><img alt="AGP" src="https://img.shields.io/badge/AGP-8.12.0-007BFF.svg"/></a>
  <a href="https://gradle.org/"><img alt="Gradle" src="https://img.shields.io/badge/Gradle-8.13-6C757D.svg"/></a>
  <a href="https://github.com/lnzz123/ComboLite/blob/main/LICENSE"><img alt="License" src="https://img.shields.io/badge/License-Apache%202.0-blue.svg"/></a>
  <a href="https://github.com/lnzz123"><img alt="GitHub" src="https://img.shields.io/badge/GitHub-lnzz123-181717.svg"/></a>
</p>

<p align="center">
  <a href="https://star-history.com/#lnzz123/ComboLite&Date">
    <img src="https://api.star-history.com/svg?repos=lnzz123/ComboLite&type=Date" alt="Star History Chart">
  </a>
</p>

---

<details>
<summary>ğŸ“š <b>ç›®å½• (Table of Contents)</b></summary>

- [ğŸ¤” ä¸ºä»€ä¹ˆé€‰æ‹© ComboLiteï¼Ÿ](#-ä¸ºä»€ä¹ˆé€‰æ‹©-combolite)
- [âœ¨ æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [ğŸš€ å¼€å§‹é›†æˆ](#-å¼€å§‹é›†æˆ-getting-started)
- [ğŸ“š æ–‡æ¡£åˆ—è¡¨](#-æ¥ä¸‹æ¥åšä»€ä¹ˆ)
- [ğŸ†š æ¡†æ¶å¯¹æ¯”ä¸æŠ€æœ¯é€‰å‹](#-æ¡†æ¶å¯¹æ¯”ä¸æŠ€æœ¯é€‰å‹)
- [ğŸ¤ å¦‚ä½•è´¡çŒ®](#-å¦‚ä½•è´¡çŒ®)
- [â¤ï¸ æ”¯æŒä¸èµåŠ©](#-æ”¯æŒä¸èµåŠ©-support--sponsor)
- [è®¸å¯](#è®¸å¯-license)

</details>

---

### ğŸ¤” ä¸ºä»€ä¹ˆé€‰æ‹© ComboLiteï¼Ÿ

éšç€ Android ç”Ÿæ€çš„æ¼”è¿›ï¼Œè¯ç”Ÿäº View æ—¶ä»£çš„æ’ä»¶åŒ–æ¡†æ¶å·²æ˜¾å¾—åŠ›ä¸ä»å¿ƒã€‚å®ƒä»¬æˆ–å·²åœæ­¢ç»´æŠ¤ï¼Œæˆ–ä¸¥é‡ä¾èµ–å……æ»¡é£é™©çš„
**éå…¬å¼€API (Hookä¸åå°„)**ï¼Œåœ¨é¢ä¸´ç³»ç»Ÿé¢‘ç¹æ›´æ–°æ—¶ï¼Œå…¼å®¹æ€§é—®é¢˜é¢‘å‘ï¼Œæ¥å…¥å’Œç»´æŠ¤æˆæœ¬æé«˜ã€‚

**`ComboLite` çš„è¯ç”Ÿï¼Œæ­£æ˜¯ä¸ºäº†ç»ˆç»“è¿™ä¸€å›°å¢ƒã€‚** æˆ‘ä»¬å›å½’å®˜æ–¹ã€æ‹¥æŠ±ç®€å•ï¼Œä»¥å®Œå…¨å…¬å¼€çš„ API ä¸ºåŸºçŸ³ï¼Œå®ç°äº† *
*0 Hookã€0 åå°„** çš„çº¯å‡€æ¶æ„ï¼Œä»æ ¹æœ¬ä¸Šä¿è¯äº†æ¡†æ¶çš„æè‡´ç¨³å®šä¸é•¿è¿œå…¼å®¹æ€§ã€‚

|          å®‰è£…å¯åŠ¨æ’ä»¶           |          å®‰è£…å¯åŠ¨æ’ä»¶2          |          ç¤ºä¾‹æ’ä»¶é¡µé¢           |
|:-------------------------:|:-------------------------:|:-------------------------:|
| ![ç¤ºä¾‹å›¾](image/figure1.jpg) | ![ç¤ºä¾‹å›¾](image/figure2.jpg) | ![ç¤ºä¾‹å›¾](image/figure3.jpg) |

|          ç¤ºä¾‹æ’ä»¶é¡µé¢2          |          å»ä¸­å¿ƒåŒ–ç®¡ç†           |         å´©æºƒç†”æ–­ä¸è‡ªæ„ˆæç¤º         |
|:-------------------------:|:-------------------------:|:-------------------------:|
| ![ç¤ºä¾‹å›¾](image/figure4.jpg) | ![ç¤ºä¾‹å›¾](image/figure5.jpg) | ![ç¤ºä¾‹å›¾](image/figure6.jpg) |

> ğŸ”— **ä¸‹è½½ç¤ºä¾‹App
**: [https://github.com/lnzz123/ComboLite/releases](https://github.com/lnzz123/ComboLite/releases)

---

### âœ¨ æ ¸å¿ƒç‰¹æ€§

#### ğŸ¨ ä¸º Compose è€Œç”Ÿï¼Œæ‹¥æŠ±ç°ä»£æŠ€æœ¯æ ˆ

`ComboLite` åŸç”Ÿä¸ºæ–°ä¸€ä»£ Android UI å·¥å…·åŒ… Jetpack Compose è®¾è®¡ï¼Œæ’ä»¶å†…å¯æ— ç¼ä½¿ç”¨ `@Composable`
å‡½æ•°æ„å»ºç•Œé¢ã€‚åŒæ—¶ï¼Œæ¡†æ¶å®Œç¾é›†æˆ Kotlin Coroutinesã€StateFlow ç­‰ç°ä»£æŠ€æœ¯ï¼Œå¹¶é‡‡ç”¨ Koin
è¿›è¡Œä¾èµ–æ³¨å…¥ï¼Œè®©æ‚¨åœ¨æ’ä»¶å¼€å‘ä¸­ä¹Ÿèƒ½äº«å—æœ€å‰æ²¿ã€æœ€é«˜æ•ˆçš„æŠ€æœ¯æ ˆã€‚

#### ğŸ›¡ï¸ æè‡´ç¨³å®šï¼š0 Hook & 0 åå°„

è¿™æ˜¯ `ComboLite` æœ€æ ¸å¿ƒçš„æ‰¿è¯ºã€‚æˆ‘ä»¬å®Œå…¨åŸºäº Android å®˜æ–¹æ¨èçš„ `ClassLoader` å’Œä»£ç†ï¼ˆProxyï¼‰æ¨¡å¼ï¼Œä¸ä½¿ç”¨ä»»ä½•éå…¬å¼€
APIã€‚è¿™æ„å‘³ç€æ¡†æ¶æ‹¥æœ‰æ— ä¸ä¼¦æ¯”çš„ç¨³å®šæ€§ï¼Œèƒ½å¤©ç„¶å…¼å®¹ä» Android 7.0 åˆ°æœªæ¥æ‰€æœ‰ Android
ç‰ˆæœ¬ï¼Œè®©æ‚¨å½»åº•å‘Šåˆ«å› ç³»ç»Ÿå‡çº§å¯¼è‡´çš„å…¼å®¹æ€§å™©æ¢¦ã€‚

#### ğŸš‘ å´©æºƒç†”æ–­ä¸è‡ªæ„ˆæœºåˆ¶

å†…ç½®å¼ºå¤§çš„ `PluginCrashHandler`ï¼Œå½“æ’ä»¶å› ç¼ºå°‘ä¾èµ–ç­‰é—®é¢˜å¯¼è‡´å´©æºƒæ—¶ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨**ç¦ç”¨**
æœ‰é—®é¢˜çš„æ’ä»¶ï¼Œé˜²æ­¢åº”ç”¨é™·å…¥æ— é™é‡å¯çš„å¾ªç¯ï¼Œå¹¶å¼•å¯¼ç”¨æˆ·åˆ°å‹å¥½çš„é”™è¯¯æç¤ºé¡µé¢ã€‚è¿™ä¸ªæœºåˆ¶å°†ä¸€ä¸ªæ½œåœ¨çš„ã€å¯¼è‡´åº”ç”¨ç˜«ç—ªçš„è‡´å‘½é”™è¯¯ï¼Œè½¬åŒ–ä¸ºä¸€ä¸ªå¯éš”ç¦»ã€å¯æ¢å¤çš„å±€éƒ¨é—®é¢˜ï¼Œæœ€å¤§é™åº¦åœ°ä¿éšœäº†å®¿ä¸»åº”ç”¨çš„ç¨³å®šæ€§ã€‚

#### ğŸ”— æ™ºèƒ½ä¾èµ–è§£æä¸é“¾å¼é‡å¯

æ¡†æ¶æ‹¥æœ‰å¼ºå¤§çš„åŠ¨æ€ä¾èµ–è§£æèƒ½åŠ›ã€‚æ’ä»¶é—´çš„ä¾èµ–å…³ç³»æ— éœ€é¢„å…ˆé…ç½®ï¼Œä¼šåœ¨ç±»åŠ è½½æ—¶è¢«è‡ªåŠ¨å‘ç°å¹¶åŠ¨æ€æ„å»ºæˆä¾èµ–å›¾ã€‚å½“æ‚¨éœ€è¦çƒ­æ›´æ–°ä¸€ä¸ªè¢«å…¶ä»–æ’ä»¶ä¾èµ–çš„æ ¸å¿ƒæ’ä»¶æ—¶ï¼Œ
`ComboLite` æä¾›çš„**é“¾å¼é‡å¯æœºåˆ¶**ä¼šè‡ªåŠ¨å¸è½½å¹¶é‡è½½æ‰€æœ‰å—å½±å“çš„ä¸Šæ¸¸æ’ä»¶ï¼Œå®Œç¾ä¿®å¤å› çƒ­æ›´æ–°å¯¼è‡´çš„ç±»åŠ è½½å™¨å†²çªé—®é¢˜ï¼Œç¡®ä¿ä¾èµ–é“¾çš„ç»å¯¹ä¸€è‡´æ€§ã€‚

#### ğŸŒ åˆ›æ–°çš„å»ä¸­å¿ƒåŒ–æ¶æ„

æˆ‘ä»¬æ‰“ç ´äº†ä¼ ç»Ÿâ€œå®¿ä¸»-æ’ä»¶â€çš„å¼ºä¸­å¿ƒåŒ–æ¨¡å¼ã€‚åœ¨ `ComboLite` ä¸­ï¼Œ**ä»»ä½•æ’ä»¶éƒ½æ‹¥æœ‰ç®¡ç†ï¼ˆä¸‹è½½ã€å®‰è£…ã€æ›´æ–°ã€å¸è½½ï¼‰è‡ªèº«æˆ–å…¶ä»–æ’ä»¶çš„èƒ½åŠ›
**ã€‚è¿™èµ‹äºˆäº†å¼€å‘è€…å‰æ‰€æœªæœ‰çš„çµæ´»æ€§ï¼Œå¯ä»¥è½»æ¾å®ç°â€œæ’ä»¶å•†åº—â€ã€â€œæŒ‰éœ€ä¸‹è½½â€ã€â€œæ’ä»¶è‡ªæˆ‘æ›´æ–°â€ç­‰é«˜çº§åŠŸèƒ½ï¼Œæ„å»ºçœŸæ­£åŠ¨æ€åŒ–çš„åº”ç”¨ç”Ÿæ€ã€‚

#### ğŸ“¦ â€œç©ºå£³â€å®¿ä¸»æ”¯æŒ

å¾—ç›Šäºå»ä¸­å¿ƒåŒ–æ¶æ„ï¼Œæ‚¨çš„å®¿ä¸» App å¯ä»¥åšåˆ°çœŸæ­£çš„â€œç©ºå£³åŒ–â€â€”â€”å³æ²¡æœ‰ä»»ä½•ä¸šåŠ¡é€»è¾‘ï¼Œå®Œå…¨é€€åŒ–ä¸ºä¸€ä¸ªå¯åŠ¨å…¥å£å’Œæ’ä»¶ç®¡ç†å®¹å™¨ã€‚
**æ‰€æœ‰åŠŸèƒ½ã€æ‰€æœ‰ UI å‡å¯ç”±æ’ä»¶åŠ¨æ€æä¾›**ã€‚è¿™ç§æ¨¡å¼ä¸ºåº”ç”¨çš„æ¨¡å—åŒ–ã€åŠ¨æ€åŒ–å’Œå›¢é˜Ÿåä½œå¼€å‘æä¾›äº†æè‡´çš„è§£è€¦æ–¹æ¡ˆã€‚

#### â™»ï¸ é€æ˜åŒ–çš„åˆå¹¶å¼èµ„æºç®¡ç†

`ComboLite` é‡‡ç”¨åˆå¹¶å¼èµ„æºç®¡ç†ã€‚æ’ä»¶è¢«åŠ è½½æ—¶ï¼Œå…¶æ‰€æœ‰èµ„æºï¼ˆlayouts, drawables, strings ç­‰ï¼‰ä¼šè¢«åŠ¨æ€åœ°åˆå¹¶åˆ°å®¿ä¸»çš„å…¨å±€
`Resources` å¯¹è±¡ä¸­ã€‚è¿™æ„å‘³ç€æ‚¨**æ— éœ€å…³å¿ƒèµ„æºæ¥è‡ªå“ªä¸ªæ’ä»¶ï¼Œå¯ä»¥åƒè®¿é—®å®¿ä¸»è‡ªèº«èµ„æºä¸€æ ·ï¼Œé€æ˜åœ°è®¿é—®æ‰€æœ‰å·²åŠ è½½æ’ä»¶çš„èµ„æº
**ï¼Œæå¤§åœ°ç®€åŒ–äº†æ’ä»¶çš„èµ„æºä½¿ç”¨æ–¹å¼ã€‚

#### ğŸ—ƒï¸ Service å¤šå®ä¾‹ä¸æœåŠ¡æ± 

`ComboLite` åˆ›æ–°åœ°æ”¯æŒ**æœåŠ¡å®ä¾‹æ± **ã€‚æ‚¨å¯ä»¥é€šè¿‡ä¸€ä¸ªå”¯ä¸€çš„ `instanceId`ï¼Œå°†åŒä¸€ä¸ªæ’ä»¶ `Service`
ç±»å¯åŠ¨ä¸ºå¤šä¸ªç›¸äº’éš”ç¦»ã€ç‹¬ç«‹è¿è¡Œçš„å®ä¾‹ã€‚è¿™å¯¹äºéœ€è¦åŒæ—¶å¤„ç†å¤šä¸ªç‹¬ç«‹ä»»åŠ¡ï¼ˆå¦‚ä¸‹è½½ç®¡ç†ã€å¤šè·¯è§†é¢‘æµã€å¹¶è¡Œè®¡ç®—ç­‰ï¼‰çš„åœºæ™¯éå¸¸æœ‰ç”¨ï¼Œæ˜¯å¾ˆå¤šå…¶ä»–æ’ä»¶åŒ–æ¡†æ¶æ‰€ä¸å…·å¤‡çš„é«˜çº§åŠŸèƒ½ã€‚

#### âš¡ï¸ é—ªç”µèˆ¬çš„ç±»æŸ¥æ‰¾æ€§èƒ½

ä¼ ç»Ÿæ’ä»¶æ¡†æ¶æ™®éå­˜åœ¨è·¨æ’ä»¶ç±»æŸ¥æ‰¾çš„æ€§èƒ½ç“¶é¢ˆã€‚`ComboLite` é€šè¿‡åœ¨åŠ è½½æ—¶ä¸ºæ‰€æœ‰æ’ä»¶å»ºç«‹å…¨å±€ç±»ç´¢å¼•ï¼Œå®ç°äº† *
*`O(1)` æ—¶é—´å¤æ‚åº¦**çš„è·¨æ’ä»¶ç±»æŸ¥æ‰¾ã€‚æ— è®ºæ‚¨çš„åº”ç”¨è§„æ¨¡å¤šåºå¤§ã€æ’ä»¶å¤šå¤æ‚ï¼Œç±»æŸ¥æ‰¾éƒ½èƒ½ç¬é—´å®Œæˆï¼Œä¿è¯äº†åº”ç”¨çš„æµç•…è¿è¡Œã€‚

---

### ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

`ComboLite` é‡‡ç”¨ç®€æ´è€Œå¼ºå¤§çš„å¾®æ ¸è®¾è®¡ï¼Œç”±å‡ ä¸ªæ ¸å¿ƒç»„ä»¶ååŒå·¥ä½œï¼Œé€»è¾‘æ¸…æ™°ï¼Œæ˜“äºæ‰©å±•ã€‚

```mermaid
graph TD
    subgraph "Host App & System"
        HostApp[Host App Code] -- invokes API --> PM(PluginManager)
        AndroidSystem[Android System] -- interacts with --> HostProxies["Host Proxy Components<br>(HostActivity, HostService...)"]
    end

    subgraph "ComboLite Core Managers"
        PM -- orchestrates --> IM(InstallerManager)
        PM -- orchestrates --> RM(ResourceManager)
        PM -- orchestrates --> ProxyM(ProxyManager)
        PM -- orchestrates --> DM(DependencyManager)
    end
    
    subgraph "Data & State"
        OnDiskState["On-Disk State<br>plugins.xml, APKs"]
        InMemoryState["In-Memory State<br>LoadedPlugins, ClassLoaders, Instances"]
        ClassIndex["Global Class Index<br>Map<Class, PluginId>"]
        DepGraph["Dependency Graphs<br>(Forward & Reverse)"]
        MergedRes["Merged Resources"]
    end
    
    %% --- Manager Responsibilities ---
    IM -- "Manages" --> OnDiskState
    PM -- "Manages" --> InMemoryState
    PM -- "Builds & Owns" --> ClassIndex
    DM -- "Builds & Owns" --> DepGraph
    RM -- "Creates & Owns" --> MergedRes
    ProxyM -- "Manages" --> HostProxies
    
    %% --- Key Interactions ---
    subgraph "Key Interaction: ClassLoader Delegation"
        direction LR
        style RequesterPCL fill:#f9f,stroke:#333,stroke-width:2px
        style TargetPCL fill:#ccf,stroke:#333,stroke-width:2px
        
        RequesterPCL["Requester<br>PluginClassLoader"] -- "findClass() on miss" --> DM
        DM -- "1. lookup" --> ClassIndex
        DM -- "2. record dependency" --> DepGraph
        DM -- "3. load from" --> TargetPCL["Target<br>PluginClassLoader"]
    end
    
    InMemoryState -- contains --> RequesterPCL
    InMemoryState -- contains --> TargetPCL
````

* **`PluginManager`**: æ¡†æ¶çš„ä¸­å¿ƒåè°ƒå™¨ï¼Œè´Ÿè´£æ’ä»¶çš„åŠ è½½ã€å¸è½½ã€é‡å¯å’Œç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚
* **`InstallerManager`**: è´Ÿè´£æ’ä»¶çš„å®‰è£…ã€æ›´æ–°å’Œåˆæ³•æ€§æ ¡éªŒã€‚
* **`ResourceManager`**: è´Ÿè´£æ’ä»¶èµ„æºçš„åŠ è½½ä¸ç®¡ç†ï¼Œå®ç°å®¿ä¸»ä¸æ’ä»¶èµ„æºçš„æ— ç¼åˆå¹¶ã€‚
* **`ProxyManager`**: è´Ÿè´£ Android å››å¤§ç»„ä»¶çš„ä»£ç†å’Œç”Ÿå‘½å‘¨æœŸåˆ†å‘ã€‚
* **`DependencyManager`**: è´Ÿè´£ç»´æŠ¤æ’ä»¶é—´çš„åŠ¨æ€ä¾èµ–å…³ç³»å›¾å’Œå…¨å±€ç±»ç´¢å¼•ã€‚

-----

### ğŸš€ å¼€å§‹é›†æˆ (Getting Started)

> ç›®å‰é¡¹ç›®æ­£å¤„äºæœ€ç»ˆæ‰“ç£¨é˜¶æ®µï¼Œæˆ‘ä»¬å³å°†å‘å¸ƒåˆ° Maven
> Centralã€‚åœ¨æ­¤ä¹‹å‰ï¼Œæ‚¨å¯ä»¥é€šè¿‡æœ¬åœ°ä¾èµ–çš„æ–¹å¼è½»æ¾é›†æˆã€‚è¿™ç§æ–¹å¼è™½ç„¶éœ€è¦æ‰‹åŠ¨å…‹éš†ï¼Œä½†ä¹Ÿä¸ºæ‚¨æ·±å…¥äº†è§£ã€ç”šè‡³å®šåˆ¶æ¡†æ¶æºç æä¾›äº†æå¤§çš„ä¾¿åˆ©ã€‚

#### ç¬¬ 1 æ­¥ï¼šå…‹éš†æœ¬é¡¹ç›®

å°† `ComboLite` ä»“åº“å…‹éš†åˆ°æ‚¨çš„æœ¬åœ°ï¼Œå»ºè®®æ”¾åœ¨æ‚¨è‡ªå·±é¡¹ç›®çš„åŒçº§ç›®å½•ä¸­ã€‚

```bash
git clone [https://github.com/lnzz123/ComboLite.git](https://github.com/lnzz123/ComboLite.git)
```

#### ç¬¬ 2 æ­¥ï¼šåœ¨ `settings.gradle.kts` ä¸­å¼•å…¥æœ¬åœ°ä¾èµ–

åœ¨æ‚¨çš„é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `settings.gradle.kts` æ–‡ä»¶ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹é…ç½®ï¼Œè®©æ‚¨çš„é¡¹ç›®èƒ½å¤Ÿæ‰¾åˆ° `ComboLite` çš„æºç æ¨¡å—ã€‚

```kotlin
// in your project's /settings.gradle.kts
includeBuild("../ComboLite") {
    dependencySubstitution {
        // å½“æ‚¨åœ¨é¡¹ç›®ä¸­ä¾èµ– aar2apk æ’ä»¶æ—¶ï¼ŒGradle ä¼šè‡ªåŠ¨å°†å…¶æ›¿æ¢ä¸ºæœ¬åœ°çš„ build-logic æ¨¡å—
        substitute(module("com.combo.aar2apk")).using(project(":build-logic"))
    }
}
```

#### ç¬¬ 3 æ­¥ï¼šæ·»åŠ æ’ä»¶ä¸æ ¸å¿ƒåº“

æ¥ä¸‹æ¥ï¼Œåœ¨æ‚¨çš„é¡¹ç›®ä¸­é…ç½®ä¾èµ–ã€‚

â‘  **åœ¨æ ¹ `build.gradle.kts` ä¸­åº”ç”¨ `aar2apk` æ’ä»¶** (ç”¨äºæ‰“åŒ…æ’ä»¶):

```kotlin
// in your project's root /build.gradle.kts
plugins {
    // ... å…¶ä»–æ’ä»¶
    id("com.combo.aar2apk")
}
```

â‘¡ **åœ¨å®¿ä¸» App æ¨¡å—çš„ `build.gradle.kts` ä¸­æ·»åŠ æ ¸å¿ƒåº“**:

```kotlin
// in your :app/build.gradle.kts
dependencies {
    // ... å…¶ä»–ä¾èµ–
    implementation(project(":comboLite-core"))
}
```

#### ç¬¬ 4 æ­¥ï¼šåˆå§‹åŒ–æ¡†æ¶

æœ€åï¼Œè®©ä½ çš„ `Application` ç±»ç»§æ‰¿è‡ª `BaseHostApplication`ï¼Œå³å¯è‡ªåŠ¨å®Œæˆæ‰€æœ‰åˆå§‹åŒ–å·¥ä½œã€‚

```kotlin
// åªéœ€ç»§æ‰¿ BaseHostApplication å³å¯
class MainApplication : BaseHostApplication()
```

**é›†æˆå®Œæ¯•ï¼** æ‚¨çš„é¡¹ç›®ç°åœ¨å·²ç»å…·å¤‡äº† `ComboLite` æ’ä»¶åŒ–æ¡†æ¶çš„èƒ½åŠ›ã€‚

-----

### ğŸ“š æ¥ä¸‹æ¥åšä»€ä¹ˆï¼Ÿ

ç¯å¢ƒå·²ç»æ­å»ºå®Œæ¯•ï¼Œç°åœ¨æˆ‘ä»¬å¼ºçƒˆå»ºè®®æ‚¨é˜…è¯»ä»¥ä¸‹æ–‡æ¡£ï¼Œå¼€å§‹æ‚¨çš„æ’ä»¶åŒ–å¼€å‘ä¹‹æ—…ï¼š

* [**[å¿…è¯»] å¿«é€Ÿå¼€å§‹**](./docs/1_QUICK_START.md): ä»é›¶åˆ°ä¸€ï¼Œæ„å»ºå¹¶è¿è¡Œä½ çš„ç¬¬ä¸€ä¸ªæ’ä»¶ã€‚
* [**[æ ¸å¿ƒ] æ’ä»¶æ‰“åŒ…æŒ‡å—**](./docs/2_PACKAGING_GUIDE.md): æ·±å…¥äº†è§£ `aar2apk` æ’ä»¶ï¼Œç²¾é€šä¸¤ç§æ‰“åŒ…ç­–ç•¥ã€‚
* [**[è¿›é˜¶] æ ¸å¿ƒ API ç”¨æ³•**](./docs/3_CORE_APIS.md): æŒæ¡ `PluginManager` çš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ã€‚
* [**[è¿›é˜¶] å››å¤§ç»„ä»¶æŒ‡å—**](./docs/4_COMPONENTS_GUIDE.md): å­¦ä¹ å¦‚ä½•åœ¨æ’ä»¶ä¸­ä½¿ç”¨ Activity, Service,
  BroadcastReceiver, ContentProviderã€‚
* [**[åŸç†] æ¶æ„ä¸è®¾è®¡**](./docs/5_ARCHITECTURE.md): æ¢ç´¢ ComboLite çš„å†…éƒ¨å·¥ä½œæœºåˆ¶ã€‚

-----

### ğŸ†š æ¡†æ¶å¯¹æ¯”ä¸æŠ€æœ¯é€‰å‹

`ComboLite` åœ¨è®¾è®¡ä¹‹åˆï¼Œå……åˆ†å€Ÿé‰´äº†å‰è¾ˆä»¬çš„ç»éªŒï¼Œå¹¶é’ˆå¯¹ç°ä»£ Android å¼€å‘çš„ç—›ç‚¹è¿›è¡Œäº†é©æ–°ã€‚

| å¯¹æ¯”ç»´åº¦                   | `ComboLite` (æœ¬é¡¹ç›®)                            | `Shadow` (è…¾è®¯)                     | `RePlugin` (360)                     | ç»å…¸ Hook æ–¹æ¡ˆ (VirtualAPK ç­‰)    | Google Play Feature Delivery   |
|:-----------------------|:---------------------------------------------|:----------------------------------|:-------------------------------------|:-----------------------------|:-------------------------------|
| **æ ¸å¿ƒåŸç†**               | âœ… **å®˜æ–¹å…¬å¼€ API + ä»£ç†æ¨¡å¼**                        | ç¼–è¯‘æœŸä»£ç é‡å†™ + è¿è¡Œæ—¶å§”æ‰˜                   | ClassLoader Hook + éƒ¨åˆ†ç³»ç»ŸHook          | âŒ **é‡åº¦ Hook ç³»ç»ŸæœåŠ¡** (AMS/PMS) | âœ… **ç³»ç»Ÿçº§åŸç”Ÿæ”¯æŒ**                  |
| **ç³»ç»Ÿå…¼å®¹æ€§**              | ğŸ¥‡ **æé«˜**ï¼Œæ— éå…¬å¼€ API è°ƒç”¨ï¼Œå¤©ç„¶é€‚é… Android 7.0 - 16+ | ğŸ¥ˆ **è¾ƒé«˜**ï¼Œç»•å¼€äº†å¤§éƒ¨åˆ†ç³»ç»Ÿé™åˆ¶              | ğŸ¥‰ **ä¸­ç­‰**ï¼Œå¯¹ ClassLoader çš„ä¿®æ”¹åœ¨æ–°ç³»ç»Ÿä¸Šå­˜åœ¨é£é™© | ğŸ’¥ **ä½**ï¼Œå¯¹ç³»ç»Ÿç‰ˆæœ¬æ•æ„Ÿï¼Œæ–°ç³»ç»Ÿä¸Šæ˜“å¤±æ•ˆ     | ğŸ¥‡ **æé«˜**ï¼Œå®˜æ–¹æ–¹æ¡ˆ                 |
| **Jetpack Compose æ”¯æŒ** | âœ… **åŸç”Ÿæ”¯æŒ**ï¼Œæ ¸å¿ƒè®¾è®¡ç›®æ ‡                            | âŒ **ä¸æ”¯æŒ**                         | âŒ **ä¸æ”¯æŒ**                            | âŒ **ä¸æ”¯æŒ**                    | âœ… **åŸç”Ÿæ”¯æŒ**                     |
| **æ¥å…¥ä¸ä½¿ç”¨æˆæœ¬**            | âœ¨ **æä½**ï¼Œå¾®é‡æ ¸å¿ƒä»£ç ï¼Œå¯¹é¡¹ç›®å‡ ä¹æ— ä¾µå…¥                     | âš ï¸ **é«˜**ï¼Œä¾èµ–æ·±åº¦å®šåˆ¶çš„ Gradle æ’ä»¶ï¼Œæ„å»ºæµç¨‹å¤æ‚ | âš ï¸ **è¾ƒé«˜**ï¼Œéœ€ç†è§£å…¶å¤æ‚çš„ç»„ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†            | âš ï¸ **è¾ƒé«˜**ï¼Œéœ€ç»§æ‰¿ç‰¹å®šåŸºç±»ï¼Œé…ç½®ç¹ç       | âœ¨ **æä½**ï¼Œå®˜æ–¹å·¥å…·é“¾åŸç”Ÿæ”¯æŒ             |
| **ç¤¾åŒºæ´»è·ƒåº¦**              | ğŸš€ **æ´»è·ƒå¼€å‘ä¸­**                                 | âš ï¸ **ç»´æŠ¤æ”¾ç¼“** (çº¦2022å¹´å)             | âŒ **åŸºæœ¬åœæ»** (çº¦2020å¹´å)                 | âŒ **å·²åœæ»**                    | ğŸš€ **Google å®˜æ–¹æŒç»­è¿­ä»£**           |
| **ä¸»è¦ä¼˜åŠ¿**               | **æè‡´ç¨³å®šã€ç°ä»£æŠ€æœ¯æ ˆã€å¼€å‘ä½“éªŒå¥½ã€å»ä¸­å¿ƒåŒ–æ¶æ„**                  | è®¾è®¡æ€æƒ³ç²¾å·§ï¼ŒActivity å…¼å®¹æ€§å¥½              | åŠŸèƒ½å…¨é¢ï¼Œæ›¾æœ‰å¤§è§„æ¨¡éªŒè¯                         | ç‰¹å®šç‰ˆæœ¬ä¸‹åŠŸèƒ½å¼ºå¤§å®Œå¤‡                  | ç¨³å®šå¯é ï¼ŒGoogle Play ç”Ÿæ€é›†æˆ          |
| **ä¸»è¦æƒè¡¡**               | ä»£ç†æ¨¡å¼å¯¹éƒ¨åˆ†å†·é—¨ `launchMode` æ”¯æŒå—é™                  | å­¦ä¹ æ›²çº¿é™¡å³­ï¼Œæ„å»ºç³»ç»Ÿé»‘ç›’ï¼Œå·²ä¸å…¼å®¹æ–°ç‰ˆAGP           | ä¾µå…¥æ€§è¾ƒå¼ºï¼Œå…¼å®¹æ€§é—®é¢˜éšç³»ç»Ÿå‡çº§å¢å¤š                   | **ç¨³å®šæ€§å·®ï¼Œå·²ä¸é€‚ç”¨äºç°ä»£å¼€å‘**           | **éçƒ­æ›´æ–°ï¼Œå¿…é¡»é€šè¿‡åº”ç”¨å•†åº—å‘å¸ƒï¼Œæ— æ³•åŠ è½½æœ¬åœ° APK** |

---

* **å¯¹æ¯” Hook æ–¹æ¡ˆ (å¦‚ VirtualAPK / DroidPlugin)**

    * **å®ƒä»¬**: é€šè¿‡ Hook ç³»ç»Ÿæ ¸å¿ƒæœåŠ¡ (AMS/PMS) æ¥â€œæ¬ºéª—â€ç³»ç»Ÿï¼ŒåŠŸèƒ½å¼ºå¤§ä½†æå…¶ä¸ç¨³å®šï¼Œéšç€ç³»ç»Ÿç‰ˆæœ¬è¿­ä»£å·²åŸºæœ¬å¤±æ•ˆï¼Œä¸”å‡å·²åœæ­¢ç»´æŠ¤ã€‚
    * **æˆ‘ä»¬**: **ç»ä¸ä½¿ç”¨ Hook**ã€‚`ComboLite` é‡‡ç”¨å®˜æ–¹æ¨èçš„ä»£ç†æ¨¡å¼ï¼Œè™½ç„¶åœ¨æŸäº›æç«¯ Activity
      å¯åŠ¨æ¨¡å¼ä¸Šè‡ªç”±åº¦ç¨é€Šï¼Œä½†æ¢æ¥çš„æ˜¯åšå¦‚ç£çŸ³çš„ç¨³å®šæ€§ï¼Œè¿™æ˜¯æˆ‘ä»¬æœ€é‡è¦çš„æ‰¿è¯ºã€‚

* **å¯¹æ¯”ç¼–è¯‘æœŸæ–¹æ¡ˆ (å¦‚ Shadow)**

    * **å®ƒä»¬**: è®¾è®¡ç²¾å·§ï¼Œé€šè¿‡ç¼–è¯‘æœŸé‡å†™ä»£ç ç»•å¼€ Hookï¼Œç¨³å®šæ€§æ›´é«˜ã€‚ä½†å…¶æ„å»ºç³»ç»Ÿå¤æ‚ï¼Œå­¦ä¹ æ›²çº¿é™¡å³­ï¼Œä¸”é¡¹ç›®å·²æ”¾ç¼“ç»´æŠ¤ï¼Œå¯¹æ–°æŠ€æœ¯æ ˆï¼ˆå¦‚
      Composeï¼‰æ”¯æŒæ»åã€‚
    * **æˆ‘ä»¬**: **æ‹¥æŠ±ç®€å•ä¸ç°ä»£**ã€‚`ComboLite` ä¿æŒæ ¸å¿ƒé€»è¾‘çš„æ¸…æ™°é€æ˜ï¼Œä¸æœ€æ–°çš„ AGP/Gradle/Compose
      å·¥å…·é“¾å®Œç¾åŒæ­¥ï¼Œè®©å¼€å‘è€…èƒ½å°†ç²¾åŠ›èšç„¦äºä¸šåŠ¡æœ¬èº«ï¼Œè€Œéå¤æ‚çš„æ¡†æ¶åº•å±‚ã€‚

* **å¯¹æ¯” RePlugin (360)**
    * **å®ƒä»¬**: åŒæ ·æ˜¯ä¸šç•Œç»å…¸ï¼Œé€šè¿‡ Hook ClassLoader å®ç°åŠŸèƒ½ï¼Œä½†åœ¨æ–°ç‰ˆ Android å¯¹éå…¬å¼€ API
      é™åˆ¶æ„ˆå‘ä¸¥æ ¼çš„ä»Šå¤©ï¼Œå…¶ç¨³å®šæ€§é¢ä¸´æŒ‘æˆ˜ã€‚é¡¹ç›®ä¹Ÿå·²åŸºæœ¬åœæ­¢ç»´æŠ¤ï¼Œå¯¹ Compose ç­‰æ–°æŠ€æœ¯æ ˆç¼ºä¹æ”¯æŒã€‚
    * **æˆ‘ä»¬**: **é€‰æ‹©é¢å‘æœªæ¥çš„ç¨³å®šè·¯çº¿**ã€‚`ComboLite` å½»åº•è§„é¿äº† Hook å¸¦æ¥çš„å…¼å®¹æ€§é£é™©ï¼Œå¹¶åŸç”Ÿä¸º
      Jetpack Compose è®¾è®¡ï¼Œç¡®ä¿åœ¨ç°ä»£æŠ€æœ¯æ ˆä¸‹è·å¾—æœ€ä½³çš„å¼€å‘ä½“éªŒå’Œé•¿æœŸç»´æŠ¤æ€§ã€‚

* **å¯¹æ¯” Google Play Feature Delivery**
    * **å®ƒä»¬**: æ˜¯ä¸€ä¸ª**åº”ç”¨åˆ†å‘æ–¹æ¡ˆ**ï¼Œæ—¨åœ¨å‡å°‘åˆå§‹å®‰è£…åŒ…ä½“ç§¯ï¼Œæ‰€æœ‰æ¨¡å—æ›´æ–°ä»éœ€é€šè¿‡åº”ç”¨å•†åº—å®¡æ ¸å’Œä¸‹å‘ï¼Œæœ¬è´¨ä¸Šæ˜¯â€œå†·åˆ†å‘â€ï¼Œæ— æ³•å®ç°çœŸæ­£çš„çƒ­æ›´æ–°ã€‚
    * **æˆ‘ä»¬**: **æ˜¯ä¸€ä¸ªçº¯ç²¹çš„çƒ­æ›´æ–°æ¡†æ¶**ã€‚`ComboLite` èµ‹äºˆ App åœ¨è¿è¡Œæ—¶åŠ è½½ä»»æ„æ¥æº APK
      çš„èƒ½åŠ›ï¼Œå¯ä»¥å®Œå…¨ç»•å¼€åº”ç”¨å•†åº—è¿›è¡ŒåŠŸèƒ½è¿­ä»£å’Œ Bug ä¿®å¤ï¼Œè¿™æ‰æ˜¯åŠ¨æ€åŒ–çš„æ ¸å¿ƒä»·å€¼ã€‚

æ’ä»¶åŒ–æŠ€æœ¯æ²¡æœ‰ç»å¯¹å®Œç¾æ–¹æ¡ˆï¼Œé€‰æ‹©å³æ˜¯å–èˆã€‚`ComboLite` çš„è®¾è®¡å“²å­¦æ˜¯åœ¨ä¿è¯ **99%**
ä¸»æµåœºæ™¯çš„æè‡´ç¨³å®šä¸ç®€æ´æ€§çš„å‰æä¸‹ï¼Œå®¡æ…å¯¹å¾…é‚£ **1%** çš„è¾¹ç¼˜åœºæ™¯ã€‚

> **æ€»è€Œè¨€ä¹‹ï¼Œå¦‚æœæ‚¨æ­£åœ¨å¼€å‘ä¸€ä¸ªé¢å‘æœªæ¥çš„ã€ä½¿ç”¨ Jetpack
Composeã€ä¸”å°†é•¿æœŸç¨³å®šæ€§å’Œå¯ç»´æŠ¤æ€§æ”¾åœ¨é¦–ä½çš„é¡¹ç›®ï¼Œ`ComboLite` å°†æ˜¯æ‚¨çš„ä¸äºŒä¹‹é€‰ã€‚**

-----

### ğŸ¤ å¦‚ä½•è´¡çŒ®

æˆ‘ä»¬çƒ­åˆ‡æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼æ— è®ºæ˜¯æäº¤åŠŸèƒ½å»ºè®®ã€æŠ¥å‘Š Bugã€è¿˜æ˜¯å‘èµ· Pull Requestï¼Œéƒ½æ˜¯å¯¹ç¤¾åŒºçš„å·¨å¤§å¸®åŠ©ã€‚

* **æŠ¥å‘Š Bug æˆ–æäº¤å»ºè®®**: è¯·é€šè¿‡ [GitHub Issues](https://github.com/lnzz123/ComboLite/issues) æäº¤ã€‚
* **è´¡çŒ®ä»£ç **: Fork æœ¬ä»“åº“ï¼Œå®Œæˆä¿®æ”¹åå‘ä¸Šæ¸¸å‘èµ· Pull Requestã€‚

-----

### â¤ï¸ æ”¯æŒä¸èµåŠ© (Support & Sponsor)

`ComboLite` æ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æºé¡¹ç›®ï¼Œç”±æˆ‘åˆ©ç”¨ä¸šä½™æ—¶é—´è¿›è¡Œå¼€å‘å’Œç»´æŠ¤ã€‚å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæ‚¨çš„æ”¯æŒå°†æ˜¯æˆ‘æŒç»­æŠ•å…¥çš„è«å¤§åŠ¨åŠ›ã€‚

<details>
  <summary>ç‚¹å‡»æŸ¥çœ‹èµåŠ©æ–¹å¼ (Click to see sponsorship methods)</summary>

  <br>

  <p>æ‚¨çš„æ¯ä¸€ä»½æ”¯æŒéƒ½æ„ä¹‰éå‡¡ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è¯·æˆ‘å–æ¯å’–å•¡ â˜•ï¸ï¼š</p>

  <table>
    <tr>
      <td align="center">æ”¯ä»˜å® (Alipay)</td>
      <td align="center">å¾®ä¿¡æ”¯ä»˜ (WeChat Pay)</td>
    </tr>
    <tr>
      <td align="center"><img src="image/alipay.jpg" alt="Alipay" width="200"></td>
      <td align="center"><img src="image/wechatpay.jpg" alt="WeChat Pay" width="200"></td>
    </tr>
  </table>
</details>

-----

### è®¸å¯ (License)

`ComboLite` éµå¾ª [Apache-2.0 license](https://github.com/lnzz123/ComboLite/blob/main/LICENSE)
å¼€æºè®¸å¯åè®®ã€‚